# git-chain-merge

`git-chain-merge` は、複数のバージョンブランチに対して順番にマージ処理を行うためのシェルスクリプトです。
バージョンチェーン（例：dev/1.0.0 → dev/1.1.0 → dev/1.2.0）のように、段階的なマージを必要とする運用に便利です。

---

## 使い方

### 1. 対象ブランチをスクリプト内に指定

```bash
branches=(
	"develop"
	"dev/1.0.0"
	"dev/1.1.0"
	"dev/1.2.0"
)
```

### 2. 実行

#### dry-run（コンフリクトがないか事前確認）

```bash
./merge_chain.sh --dry-run
```

#### マージ実行

```bash
./merge_chain.sh
```

---

## 注意点 ⚠️

### 1. フォーマッタには `shfmt` を使用しています

コードの整形には [shfmt](https://github.com/mvdan/sh) を利用しています。
インデント等を崩さないよう、編集時には以下のコマンドで整形をお願いします：

```bash
shfmt -w merge_chain.sh
```

### 2. dry-runは完璧ではありません

`--dry-run` は、各バージョン間の **直接マージにおける衝突のみ**を検出します。
複数世代をまたいで発生する間接的なコンフリクトは検出できません。
例：`A → B → C` の順にマージする場合、`A`と`C`の間でのみ発生するコンフリクトはdry-runでは確認できません。

コンフリクトリスクが高い場合は、手動でご確認ください。

---

## ライセンス

MIT License